    async function send() {
      const q = inputEl.value.trim();
      if (!q) return;

      addMsg(q, "user");
      inputEl.value = "";
      inputEl.focus();
      sendBtn.disabled = true;

      try {
        const res = await fetch(API_ENDPOINT, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ question: q }),
        });

        const data = await res.json();
        console.log("DEBUG data:", data);  // ğŸ‘ˆ ë””ë²„ê·¸ ì¶œë ¥

        if (data.answer) {
          addMsg(data.answer, "bot");
        } else if (data.error) {
          // ì—ëŸ¬ ë‚´ìš©ë„ ê°™ì´ ë³´ì—¬ì£¼ê¸°
          const msg =
            data.detail
              ? `ì˜¤ë¥˜: ${data.error}\n${data.detail}`
              : `ì˜¤ë¥˜: ${data.error}`;
          addMsg(msg, "bot");
        } else {
          addMsg("ì„œë²„ì—ì„œ ìœ íš¨í•œ ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.", "bot");
        }
      } catch (e) {
        console.error(e);
        addMsg("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.", "bot");
      } finally {
        sendBtn.disabled = false;
      }
    }
